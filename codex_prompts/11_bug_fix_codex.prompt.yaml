---
name: Bug Finder & Fixer (OpenAI Codex)
description: Reproduce and resolve a bug within the specified package or module.
model: gpt-4
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: |-
      - Caller provides a description or stack trace indicating the failing behaviour.
      - Project has scripts to run or compile the code.

      1. Use the provided info to reproduce the issue.
      2. Locate the faulty code in {{package_path}} or related files.
      3. Implement a fix with explanatory comments.
      4. Add or update tests demonstrating the resolved behaviour.
      5. Run linters and tests; include their output.

      If unable to reproduce, request additional logs or environment details.
  - role: user
    content: |-
      {{input}}
testData:
  - input: |-
      package_path: src/module.py
      bug_description: failing edge case
    expected: Bug Fix -
evaluators:
  - name: Output starts with 'Bug Fix -'
    string:
      startsWith: 'Bug Fix -'
