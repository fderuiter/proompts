repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
      - id: check-yaml
      - id: check-added-large-files

  - repo: https://github.com/adrienverge/yamllint.git
    rev: v1.32.0
    hooks:
      - id: yamllint
        args: [--strict]

  - repo: local
    hooks:
      - id: check-prompts
        name: Check Prompts
        entry: python3 tools/scripts/check_prompts.py
        language: system
        files: ^prompts/
        pass_filenames: false

      - id: update-last-modified
        name: Update Last Modified
        entry: python3 tools/scripts/update_last_modified.py
        language: system
        files: ^prompts/.*\.prompt\.yaml$

      - id: validate-prompt-schema
        name: Validate Prompt Schema
        entry: python3 tools/scripts/validate_prompt_schema.py
        language: system
        files: ^prompts/.*\.prompt\.yaml$
        pass_filenames: false

      - id: update-docs-index
        name: Update Docs Index
        entry: python3 tools/scripts/update_docs_index.py --check
        language: system
        files: ^prompts/
        pass_filenames: false
