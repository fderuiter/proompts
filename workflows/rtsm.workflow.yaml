name: "RTSM Workflow"
description: "A workflow for designing a randomization scheme, a supply strategy, and a risk-based monitoring SOP."

inputs:
  - name: "study_parameters"
    description: "Study parameters for the randomization scheme."
  - name: "trial_enrollment"
    description: "Trial enrollment data for the supply strategy."
  - name: "existing_sop"
    description: "Existing SOPs for the RBM SOP."

steps:
  - step_id: "randomization_scheme"
    prompt_file: "rtsm_prompts/01_patient_centered_randomization_scheme.prompt.yaml"
    map_inputs:
      study_parameters: "{{inputs.study_parameters}}"

  - step_id: "supply_strategy"
    prompt_file: "rtsm_prompts/02_site_level_supply_resupply_strategy.prompt.yaml"
    map_inputs:
      trial_enrollment: "{{inputs.trial_enrollment}}"

  - step_id: "rbm_sop"
    prompt_file: "rtsm_prompts/03_risk_based_monitoring_sop.prompt.yaml"
    map_inputs:
      existing_sop: "{{inputs.existing_sop}}"
