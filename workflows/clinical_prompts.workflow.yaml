name: "Clinical Prompts Workflow"
description: "A workflow to generate a CRF shell, audit it, and create a CDASH mapping guide."

inputs:
  - name: "protocol_summary"
    description: "A summary of the protocol to generate the CRF shell."
  - name: "variable_list"
    description: "A list of variables for the CDASH mapping guide."

steps:
  - step_id: "crf_shell"
    prompt_file: "prompts/clinical/forms/01_crf_shell_generator.prompt.yaml"
    map_inputs:
      input: "{{inputs.protocol_summary}}"

  - step_id: "quality_audit"
    prompt_file: "prompts/clinical/forms/02_crf_quality_auditor.prompt.yaml"
    map_inputs:
      input: "{{steps.crf_shell.output}}"

  - step_id: "cdash_mapping"
    prompt_file: "prompts/clinical/forms/03_cdash_mapping_completion_guide.prompt.yaml"
    map_inputs:
      input: "{{inputs.variable_list}}"
