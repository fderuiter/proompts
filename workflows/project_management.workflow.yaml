name: "Project Management Workflow"
description: "A workflow to create a project charter, risk register, status report, and timeline."

inputs:
  - name: "project_name"
    description: "The name of the project."
  - name: "project_description"
    description: "A brief description of the project."
  - name: "budget"
    description: "The project budget."
  - name: "deadline"
    description: "The project deadline."
  - name: "stakeholders"
    description: "The project stakeholders."
  - name: "business_outcome"
    description: "The desired business outcome of the project."
  - name: "update_notes"
    description: "Raw update notes for the weekly status report."
  - name: "project_type"
    description: "The type of the project for the timeline."
  - name: "objectives"
    description: "The objectives for the timeline."
  - name: "milestone_data"
    description: "Milestone data for the timeline."

steps:
  - step_id: "project_charter"
    prompt_file: "project_management/01_project_charter_scope.prompt.yaml"
    map_inputs:
      project_name: "{{inputs.project_name}}"
      project_description: "{{inputs.project_description}}"
      budget: "{{inputs.budget}}"
      deadline: "{{inputs.deadline}}"
      stakeholders: "{{inputs.stakeholders}}"
      business_outcome: "{{inputs.business_outcome}}"

  - step_id: "risk_register"
    prompt_file: "project_management/02_risk_register_mitigation.prompt.yaml"
    map_inputs:
      project_overview: "{{steps.project_charter.output}}"

  - step_id: "status_report"
    prompt_file: "project_management/03_weekly_exec_status_report.prompt.yaml"
    map_inputs:
      update_notes: "{{inputs.update_notes}}"

  - step_id: "timeline"
    prompt_file: "project_management/04_detailed_project_blueprint_timeline.prompt.yaml"
    map_inputs:
      project_type: "{{inputs.project_type}}"
      objectives: "{{inputs.objectives}}"
      milestone_data: "{{inputs.milestone_data}}"
