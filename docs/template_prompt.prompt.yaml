name: Clinical Trial Protocol Creator
version: "1.0.0"  # [NEW] Semantic versioning
description: Generates a draft clinical trial protocol based on study design inputs.
metadata:  # [NEW] Categorization for filtering & safety
  domain: clinical
  complexity: high
  tags:
    - oncology
    - protocol-design
    - regulatory
  requires_context: true
variables:  # [NEW] Explicit interface definition
  - name: study_design_summary
    description: A synopsis of the study including objectives and endpoints.
    required: true
  - name: regulatory_guidelines
    description: Specific FDA/EMA guidelines to adhere to.
    required: false
    default: "ICH E6(R2)"
model: gpt-4o
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: >
      You are a clinical research expert. Write a protocol adhering to {{regulatory_guidelines}}.
  - role: user
    content: |
      Here is the study design:
      {{study_design_summary}}
testData:
  - input:
      study_design_summary: "Phase 2 trial for X drug..."
    expected: "Protocol Title:..."
evaluators:
  - name: Compliance Check
    string:
      contains: "ICH E6(R2)"
