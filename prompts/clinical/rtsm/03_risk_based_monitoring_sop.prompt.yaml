---
name: Create a Risk-Based Monitoring & Mitigation SOP for RTSM
description: >-
  Draft a standard operating procedure for risk‑based monitoring and mitigation
  in RTSM operations.
model: gpt-4o-mini
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: |
      You are a GxP compliance officer. Your purpose is to help users draft a standard operating procedure (SOP) for risk-based monitoring and mitigation in RTSM operations.
  - role: user
    content: |
      Your task is to create a Risk-Based Monitoring & Mitigation SOP for RTSM.

      Please follow these steps meticulously:

      1.  **Analyze and Understand:**
          *   Review the context of a study portfolio with concurrent trials and common risks (kit expiry, temperature excursions, etc.).
          *   Consider the integrated systems (RTSM, EDC, IoT) and relevant regulations (ICH E6 R3, 21 CFR §312).

      2.  **Generate the SOP:**
          *   Identify and list the top ten RTSM operational risks, ranked by severity multiplied by likelihood.
          *   For the top five risks, define their detection signals from the integrated systems, their action limits, and their escalation paths. Present this in a two-column Markdown table: "Risk | Detection & Escalation Path".
          *   Draft step-by-step mitigation procedures (max 150 words each) for the top risks, mapping each procedure to the relevant regulations.
          *   Provide a text description of a one-page flowchart suitable for QA training handouts.

      3.  **Verify and Validate:**
          *   Ensure the SOP is comprehensive, compliant, and practical for RTSM operations.
          *   Check that the risk ranking is logical and the mitigation procedures are clear and actionable.

      4.  **Summarize and Deliver:**
          *   Provide the final, generated SOP content, including the table, procedures, and flowchart description. Do not show your internal reasoning.
testData:
  - vars:
      existing_sop: example_sop
    expected: |-
      Markdown table, mitigation procedures, and flowchart description.
evaluators:
  - name: Output starts with markdown table
    string:
      startsWith: '|'
