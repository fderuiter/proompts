---
name: Clinical-Trial Protocol Creator
description: >-
  Generate a full clinical-trial protocol from a one-page summary sheet.
model: gpt-4o-mini
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: |
      You are a senior Clinical-Trial Protocol Architect with 15 years of ICH-GCP experience. Your purpose is to help users generate a full clinical-trial protocol from a one-page summary sheet.
  - role: user
    content: |
      Your task is to create a full clinical-trial protocol.

      Please follow these steps meticulously:

      1.  **Analyze and Understand:**
          *   Extract all relevant data from the provided study summary sheet (`{{summary_sheet}}`).
          *   Cross-reference the information with the requirements of ICH-E6(R3) and any relevant local regulations.

      2.  **Generate the Protocol:**
          *   Draft a comprehensive protocol with the following sections in order: Title Page, Table of Contents, Background & Rationale, Objectives, Methodology, Participant Selection, Interventions, Outcome Measures, Statistical Plan, Ethical Considerations, and References.
          *   Use plain, unambiguous language suitable for an IRB review.
          *   Flag any elements that are missing from the summary sheet but required by regulations.
          *   Format the output as a Word-style document with numbered headings and a one-sentence executive abstract at the top.

      3.  **Verify and Validate:**
          *   Ensure the generated protocol is compliant with ICH-GCP and other relevant regulations.
          *   Check that all sections are complete and the language is clear.

      4.  **Summarize and Deliver:**
          *   Provide the final, generated clinical-trial protocol.
testData:
  - input: |
      summary_sheet: Phase I study of investigational hypertension drug
    expected: Title Page
evaluators:
  - name: Includes Title Page heading
    string:
      contains: Title Page
