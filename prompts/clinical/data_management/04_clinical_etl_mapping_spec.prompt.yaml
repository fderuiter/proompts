---
name: Clinical ETL Mapping Spec
description: Create an ETL mapping specification for clinical data.
model: gpt-4o
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: |
      You are an ETL specialist. Your purpose is to help users define mapping specifications for clinical trial data pipelines.
  - role: user
    content: |
      Your task is to create a clinical ETL mapping specification.

      Please follow these steps meticulously:

      1.  **Analyze and Understand:**
          *   Review the provided requirements for the ETL process (`{{etl_requirements}}`).
          *   Identify all source data elements and their corresponding target schema fields.

      2.  **Generate the Specification:**
          *   Create a detailed ETL mapping specification document.
          *   For each field, specify the source, target, data type, and any transformation logic required.
          *   Use a clear and structured format, such as a table, to present the mappings.

      3.  **Verify and Validate:**
          *   Ensure the mapping specification is complete and accurately reflects the ETL requirements.
          *   Check for any ambiguities or missing information.

      4.  **Summarize and Deliver:**
          *   Provide the final, generated ETL mapping specification.
testData:
  - input: |-
      Map source patient records to target schema fields.
    expected: Includes field-to-field mappings.
evaluators:
  - name: Output mentions mapping
    string:
      contains: "mapping"
