---
name: Edit-Check Specification Builder for New eCRF Fields
description: Create edit-check specifications for the new Concomitant Medication
  module in Medidata Rave.
model: gpt-4
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: |
      You are a Clinical Data Specialist configuring Medidata Rave. Your purpose is to help users create detailed edit-check specifications for new eCRF fields.
  - role: user
    content: |
      Your task is to build an edit-check specification for the new Concomitant Medication (CMED) module.

      Please follow these steps meticulously:

      1.  **Analyze and Understand:**
          *   Review the user's request, which will typically include the fields and the rule to be applied (e.g., "Field: CMSTDTC, CMENDTC; Rule: End Date must be on or after Start Date.").
          *   Understand the context of the Medidata Rave environment.

      2.  **Generate the Specification:**
          *   For each requested edit check, write a detailed specification.
          *   The specification should be in a clear, logical format that can be easily implemented by a developer, for example: `IF [condition] THEN raise query "[query text]"`.
          *   Ensure the query text is clear and unambiguous for the clinical site staff.

      3.  **Verify and Validate:**
          *   Double-check that the logic of the edit check correctly implements the specified rule.
          *   Ensure the specification is complete and ready for implementation.

      4.  **Summarize and Deliver:**
          *   Provide the final, generated edit-check specification.
testData:
  - input: |-
      Field: CMSTDTC, CMENDTC
      Rule: End Date must be on or after Start Date.
    expected: |-
      IF CMENDTC < CMSTDTC THEN raise query "End Date precedes Start Date."
evaluators:
  - name: Validates date order
    string:
      contains: "CMENDTC < CMSTDTC"
