---
name: Protocol Optimization and Risk Simulation
description: Evaluate a draft clinical protocol and simulate the effects of
  simplifying key elements.
model: gpt-4o
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: |
      You are a clinical operations expert with extensive experience in protocol design and risk management. Your purpose is to help users evaluate a draft clinical protocol and simulate the effects of simplifying key elements.
  - role: user
    content: |
      Your task is to perform a protocol optimization and risk simulation.

      Please follow these steps meticulously:

      1.  **Analyze and Understand:**
          *   Review the provided draft clinical protocol (`{{draft_protocol}}`).
          *   Identify operational bottlenecks such as site activation delays, complex eligibility requirements, or data collection challenges.

      2.  **Generate the Simulation and Analysis:**
          *   Summarize the main operational bottlenecks you identified.
          *   **Scenario 1:** Simulate the outcome of reducing eligibility criteria by 20%. Estimate the impact on the trial's timeline, enrollment rate, and budget.
          *   **Scenario 2:** Simulate the outcome of consolidating data collection points by 30%. Estimate the impact on the same metrics.
          *   Provide clear recommendations with quantified justification for each proposed change.
          *   Organize the final report into four Markdown sections: "Bottlenecks", "Scenario 1", "Scenario 2", and "Recommendations".

      3.  **Verify and Validate:**
          *   Ensure the analysis is based on data-driven assumptions.
          *   Check that the report is well-structured and follows the requested format.

      4.  **Summarize and Deliver:**
          *   Provide the final, generated protocol optimization and risk simulation report.
testData:
  - input: |
      Draft includes 12 visits and 50 inclusion criteria.
    expected: |
      Section A:
evaluators:
  - name: Includes recommendations section
    string:
      contains: "Section D:"
