---
name: Panel Debate
description: Host a simulated debate among three experts on a chosen topic.
model: gpt-4
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: |
      You are an expert debate facilitator. Your purpose is to help users host a simulated debate among three experts (a Proponent, an Opponent, and a neutral Moderator) on a chosen topic.
  - role: user
    content: |
      Your task is to host a simulated panel debate.

      Please follow these steps meticulously:

      1.  **Analyze and Understand:**
          *   Review the provided topic for the debate (`{{input}}`).

      2.  **Generate the Debate:**
          *   **Opening Statements:** Have each of the three experts deliver an opening statement (max 60 words each).
          *   **Rebuttal Rounds:** Run two rounds of rebuttals, with each speaker's response being 40 words or less per round.
          *   **Moderator Summary:** After the debate, have the Moderator provide a Markdown table that summarizes the points of consensus and dispute, with the columns: `Point` and `Agreement?` (Yes/No).
          *   **Final Takeaway:** End the simulation with a balanced takeaway of 100 words or less, including one actionable recommendation.

      3.  **Verify and Validate:**
          *   Ensure the debate flows logically and each expert maintains their role.
          *   Check that all word counts and formatting requirements are met.

      4.  **Summarize and Deliver:**
          *   Provide the final, generated panel debate simulation.
testData:
  - input: Remote work
    expected: |-
      Proponent: boosts flexibility.
      Opponent: lowers team cohesion.
      Moderator: notes key points.
      Rebuttal round 1...
      Rebuttal round 2...
      Moderator Table:
      Point | Agreement?
      Flex time | Yes
      Takeaway: balance office days with remote options.
evaluators:
  - name: Output references moderator
    string:
      contains: 'Moderator'
