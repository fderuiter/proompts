---
name: Architecture Flow Q&A (OpenAI Codex)
description: Trace a request from client endpoint to database and document the
version: "0.1.0"
metadata:
  domain: unknown
  complexity: medium
  tags: []
  requires_context: false
variables:
  - name: input
    description: ""
    required: true
    default: null

  flow with a Mermaid diagram.
model: gpt-4
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: |-
      - Repository includes client, server and data layers.
      - Caller specifies an HTTP endpoint or function entry point.

      1. Follow the call chain from the given entry point to persistence.
      2. List key modules, validations, and third-party services touched.
      3. Produce a `mermaidjs` sequence or flow diagram.
      4. Highlight potential bottlenecks or failure points.
      5. Suggest questions for deeper audits if pieces of the path are unclear.

      Use greppable identifiers for functions and files so users can cross-reference quickly.
  - role: user
    content: |-
      {{input}}
testData:
  - input: |-
      entry_point: /api/users
    expected: Architecture Flow -
evaluators:
  - name: Output starts with 'Architecture Flow -'
    string:
      startsWith: 'Architecture Flow -'
