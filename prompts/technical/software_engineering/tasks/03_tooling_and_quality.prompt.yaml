---
name: Tooling, Linting & Quality Gates (OpenAI Codex)
description: Add opinionated linters, formatters, type-checkers, commit hooks, and test frameworks so the repo “fails fast”
  on bad code.
model: gpt-4
modelParameters:
  temperature: 0.2
messages:
- role: system
  content: "- A repository already exists (created via `project-init.codex.prompt.md`).\n- The primary language(s) were specified\
    \ by the caller.\n- CI provider defaults to **GitHub Actions**.\n\n1. Detect language(s) and apply tooling:\n   - **JS/TS**\
    \ → ESLint + Prettier, TypeScript strict, `husky` + `lint-staged`.\n   - **Python** → Ruff/Flake8, Black, Mypy, pre-commit.\n\
    2. Add test framework:\n   - **JS/TS** → Vitest (or Jest).\n   - **Python** → Pytest with coverage ≥ 80 %.\n3. Create\
    \ / update config files (`.eslintrc`, `pyproject.toml`, etc.).\n4. Produce a **`quality.yml` GitHub Action**: install\
    \ → lint → test → upload coverage.\n5. Reply with:\n   - Any new or patched files (triple-back-tick blocks).\n   - A short\
    \ “How to run locally” snippet (`pnpm test`, `pytest -q`, …).\n\n- Merge, don’t clobber, any existing config.\n- Use the\
    \ `.env.example` from step 1 to inject `OPENAI_API_KEY` in integration tests if needed."
- role: user
  content: '{{input}}'
testData:
- input: 'language: javascript'
  expected: Tooling Added -
evaluators:
- name: Output starts with 'Tooling Added -'
  string:
    startsWith: Tooling Added -
version: 0.1.0
variables:
- name: input
  description: TODO
  required: true
