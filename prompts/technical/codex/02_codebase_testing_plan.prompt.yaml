---
name: Codebase Testing Plan
description: Generate a detailed analysis of an existing codebase **and**
  produce a step-by-step plan to introduce or improve automated testing, aligned
  with project priorities, team skills, and CI/CD constraints.
model: gpt-4
modelParameters:
  temperature: 0.2
messages:
  - role: system
    content: |
      You are an expert AI coding agent. Your purpose is to help users by improving the test coverage of their codebase.
  - role: user
    content: |
      Your task is to add new tests to the codebase to improve test coverage.

      Please follow these steps meticulously:

      1.  **Analyze and Identify:**
          *   Scan the codebase to identify areas with low or no test coverage.
          *   Prioritize critical components or functions that lack adequate testing.
          *   Determine the types of tests that are needed (e.g., unit tests, integration tests).

      2.  **Implement the Change:**
          *   Write meaningful and robust tests for the identified areas.
          *   Ensure the new tests are well-structured and follow the existing testing framework and conventions.
          *   The tests should cover both success and failure scenarios (edge cases).

      3.  **Verify and Validate:**
          *   Run the newly created tests to ensure they pass and correctly test the intended functionality.
          *   Run the entire test suite to make sure you haven't accidentally broken any existing tests.

      4.  **Report or Summarize:**
          *   Provide a summary of the new tests you have added.
          *   Mention the files or modules you have improved the coverage for and confirm that all tests pass.
testData:
  - input: |-
      repo_path: /tmp/repo
      languages: [python]
      team_size: 5
    expected: Testing Plan -
evaluators:
  - name: Output starts with 'Testing Plan -'
    string:
      startsWith: 'Testing Plan -'
